# Обзор библиотек для виртуализации списков.

## [react-virtualized](https://www.npmjs.com/package/react-virtualized)

Довольно старое, но намоленное решение. Редко обновляется. Много открытых issue и не вмерженных PR.
Ввиду возраста, основана на классовых компонентах. В коде используются deprecated методы.
Есть проблемы при импорте в Vite [issue 02.03.2022](https://github.com/bvaughn/react-virtualized/issues/1722).
(Для импорта необходимо использовать дополнительный плагин.)  
**Выглядит как уходящая натура.**

## [react-window](https://www.npmjs.com/package/react-window)

Более легковесное решение чем react-virtualized написанная тем же разработчиком.
Предлагает минималистичный, но быстрый подход. Редко обновляется.  
Чтобы сделать список с заранее неизвестными размерами элементов необходимо приложить дополнительные усилия.
**Подходит для сценариев, требующих легкого решения с простыми списками или сетками фиксированного размера**,

## [@tanstack/react-virtual](https://www.npmjs.com/package/@tanstack/react-virtual)

В основе библиотеки пакет @tanstack/virtual-core, не привязанный к конкертному фреймворку.  
Имеются обёртки для всех фреймворков включая React. По описанной функциональности уступает react-virtualized и react-vitruoso.

## [react-virtuso](https://www.npmjs.com/package/react-virtuoso)

Довольно молодая библитека для React. По функциональности в чём-то уступает react-virtualized, но имеет фичи которых не обозначены в react-virtualized

## Известные проблемы

- У всех библиотек с динамическими размерами элементов имеются проблемы с проматыванием списка до конца или начало.
- У **react-virtualize**, **tanstack/react-virtual** при добавлении элемента в форму списка некорретно значения последующих строк
- **tanstack/react-virtual** несколько раз вызывает рендер списка при инстациировании, прокрутке

Возможно это решаемые проблемы, но требует дополнительных усилий

## Тестовые примеры

Тестовые примеры расположены в src/examples. Отображается разное количество полей от 1 до 3.
Количество записей 10000. Набор данных одиновый для всех примеров

```ts
type DataItem {
  id: string,
  type: string,
  firstName: string,
  lastName?: string,
  patronymic?: string,
}
```

Код примеров максимально атомарен. Наиболее показательный компонент в коде примеров **FormList**

## Сравнительная таблица возможностей

Составлена на основе документации разбработчика с примерами кода (или ссылками на них).  
Наверное можно реализовать все хотелки во всех библиотеках, но для перечисленных в списке точно есть рецепты от производителя.
